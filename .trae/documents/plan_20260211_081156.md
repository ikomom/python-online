
# 提取公共类型与优化模板控制逻辑

## 1. 提取公共类型 (Type Extraction)
将分散在各处的 TypeScript 类型定义统一提取到 `src/types/index.ts`，消除重复定义并统一引用。

- **创建 `src/types/index.ts`**，包含以下类型：
  - `RunStatus`: `"idle" | "running" | "success" | "error"`
  - `VariableRow`: `{ key: string; name: string; value: string }`
  - `CodeTemplate`: `{ id: string; label: string; description: string; code: string }`

- **更新以下文件以使用新类型**：
  - `src/App.tsx`: 移除本地类型定义，改为导入。
  - `src/pages/EditorPage/RightPanelStack.tsx`: 替换 `VariableRow` 定义和 `outputStatus` 的内联类型。
  - `src/pages/EditorPage/VariablePanel.tsx`: 替换 `VariableRow` 定义。
  - `src/pages/EditorPage/OutputPanel.tsx`: 使用 `RunStatus` 类型。

## 2. 优化模板控制逻辑 (Logic Improvement)
防止在代码运行时加载或切换模板，避免状态冲突。

- **修改 `src/App.tsx`**：
  - 模板选择下拉框 (`Select`)：添加 `disabled={isRunning}`。
  - "加载模板" 按钮：添加 `disabled={isRunning}`。
